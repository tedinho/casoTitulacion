<br />
<h2>Tema Ante Proyecto</h2>
<br />


<div *ngIf="mostrarFormulario">

    <form [formGroup]="formTemaAnteproyecto" (ngSubmit)="guardarTema()">
        <div class="alert alert-info alert-dismissible" *ngIf='mensajeTema'>
            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
            {{mensajeTema}}
        </div>

        <div style="padding: 0px 30px;"
            *ngIf="temaAnteProyecto!=null && temaAnteProyecto.estado!=null && temaAnteProyecto.estado == 'R'">
            <h4>Observación:</h4>
            <p>{{temaAnteProyecto.observacion}}</p>
        </div>

        <div class="form-group" style="padding: 0px 30px;">
            <label>
                Tema:
                <input class="form-control" type="text" formControlName="nombre">
            </label>
            <div *ngIf="temaAnteProyecto !=null && temaAnteProyecto.evidencia != null">
                <a href="http://localhost:8000/{{ temaAnteProyecto.evidencia.url }}" target="_blank"><i
                        class="far fa-fw fa-file-pdf"></i>{{ temaAnteProyecto.evidencia.nombre_archivo }}</a>
            </div>
            <div *ngIf="temaAnteProyecto == null || (temaAnteProyecto.estado == 'C' || temaAnteProyecto.estado == 'R')"
                formGroupName="cargarDocumento">
                <label>
                    Archivo:
                    <div class="input-group mb-2">
                        <div class="custom-file">
                            <input type="file" class="form-control-file" id="arch" name="arch"
                                (change)="onFileSelect($event)">
                        </div>
                    </div>
                </label>
            </div>
            <button
                *ngIf="temaAnteProyecto == null || (temaAnteProyecto.estado == 'C' || temaAnteProyecto.estado == 'R')"
                type="submit" class="btn btn-primary">Guardar y Enviar Por Aprobacion</button>
            <br />
        </div>

    </form>

</div>
<div *ngIf="!mostrarFormulario">
    <div class="alert alert-danger" role="alert">
        {{mensajeError}}
    </div>
</div>